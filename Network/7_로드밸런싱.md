## 로드 밸런싱(Load Balancing)



- 둘 이상의 CPU, 저장 장치와 같은 컴퓨터 자원들에게 작업을 나누는 것



##### 등장 배경

- 현대의 웹 트래픽이 너무나도 커짐

  => <u>1대의 서버로는 감당이 불가능해짐</u>

  ㄱ. 하드웨어의 성능을 증가시키거나(Scale-up)

  ㄴ. 여러대의 서버가 나눠서 일하도록 만드는 것(Scale-out)

  ​	=> 서버가 여러 대면 `무중단 서비스`를 제공하는 환경 구성이 용이하므로

  ​          Scale out이 효과적



##### 로드 밸런싱

- **로드 밸런싱**은 분산식 웹 서비스

  => 여러 서버에 부하(Load)를 나눠주는 역할

- 로드 밸런서(Load Balancer)를 클라이언트 - 서버 사이에 두고,

  부하가 여러 서버에 분산시킴





##### 로드 밸런서가 서버를 선택하는 방식

1. 라운드 로빈(RR, Round Robin)

   : CPU 스케줄링의 라운드 로빈 방식 활용

     <u>분산 보장, 연결 경로 보장 X</u>

   > ***라운드 로빈?***
   >
   > => 요청이 들어온 순서대로 시간 할당량을 부여하여,
   >
   > ​     그 시간 동안 처리하게끔 하고 시간이 다 지나면,
   >
   > ​     그 다음 요청을 수행하는 방식

2. Least Connections

   : 연결 개수가 가장 적은 서버 선택

   ​	=> 트래픽으로 인해 세션이 길어지는 경우 권장

     <u>분산 보장, 연결 경로 보장 X</u>

3. Source

   : 사용자 IP를 해싱하여 분배

   ​	=> 특정 사용자가 항상 같은 서버로 연결

     <u>분산 보장 X, 연결 경로 보장</u>



##### 로드 밸런서 장애 대비

: 로드 밸런서도 문제가 부하에 대한 서버 분배가 이뤄지지 않을 수 있음

   => <u>로드 밸런스 이중화 필요</u>