## 세마포어(Semaphore) & 뮤텍스(Mutex)



- 공유 자원에 여러 프로세스가 동시에 접근 시

  => <u>데이터 일관성에 문제가 생길 수 있음</u>

  ​     따라서 공유 자원에는 **한 번에 한 <u>프로세스</u>만 접근**할 수 있어야 함

​                                                  => 이를 위한 개념 : ***세마포어***



- 임계 구역( Critical Section )

  : 각 프로세스에서 <u>공유 데이터에 접근하는 프로그램 코드 부분</u>

    => 특정 공유 데이터에 대한 임계 구역이 수행 중일 때는

  ​        동일 공유 데이터에 대한 다른 프로세스의 임게 구역은 수행이 불가하도록 설계



##### \# 세마포어 P, V 연산

- P : 임계 구역 들어가기 전에 수행

  ​     => 임계 구역에 들어간다는 표시로 S 변수를 변경

- V : 임계 구역에서 나올 때 수행

  ​     => 임계 구역에서 나간다는 표시로 S 변수를 복구



##### \# 뮤텍스

​	: 임계 구역을 가진 **<u>스레드들</u>**의 실행시간이 서로 겹치지 않게 실행되게 하는 기술

​		=> 상호 배제(**Mut**ual **Ex**clusion)의 약자

- Lock / Unlock
  - Lock : 현재 임계 구역에 들어갈 권한을 얻어옴
  - Unlock : 현재 임계 구역을 모두 사용했음을 알림



##### 뮤텍스 알고리즘

1. 데커(Dekker) 알고리즘
   - flag, turn 변수를 통해 임계 구역에 들어갈 프로세스 / 스레드를 결정
     - flag : 프로세스 중 어떤 것이 임계 영역에 진입할 것인지 나타내는 변수
     - turn : 누가 임계 구역에 들어갈 차례인지 나타내는 변수



2. 피터슨(Peterson) 알고리즘
   - 데커와 유사, 상대방 프로세스 / 스레드에게 진입 기회를 양보하는 것에 차이가 있음



3. 제과점(Bakery) 알고리즘
   - 여러 프로세스 / 스레드에 대한 처리가 가능한 알고리즘
   - 가장 작은 수의 번호표를 가지고 있는 프로세스가 임계 구역에 진입